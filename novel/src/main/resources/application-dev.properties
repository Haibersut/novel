spring.application.name=novel
server.port=8081
spring.main.default-time-zone=Asia/Shanghai

spring.main.allow-circular-references=true

api.signature.secret = import {computed} from "vue";
cors.allowed.origins=http://localhost:8080

siteMap.run=true

# 文件上传大小限制 40MB
spring.servlet.multipart.max-file-size=40MB
spring.servlet.multipart.max-request-size=40MB
# 定时任务线程池大小
spring.task.scheduling.pool.size=20

proxy.host=127.0.0.1
proxy.port=7890
proxy.client=false

# 数据库配置模式: single(单数据库) 或 dual(双数据库)
database.mode=dual

#---------------- 主数据库 primary ----------------#
spring.datasource.primary.jdbc-url=jdbc:mariadb://localhost:3306/novelcopy?allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC&connectTimeout=30000&socketTimeout=60000
spring.datasource.primary.username=
spring.datasource.primary.password=
spring.datasource.primary.driver-class-name=org.mariadb.jdbc.Driver

# HikariCP 连接池配置 (生产环境推荐)
spring.datasource.primary.hikari.maximum-pool-size=15
spring.datasource.primary.hikari.minimum-idle=5
spring.datasource.primary.hikari.connection-timeout=30000
spring.datasource.primary.hikari.idle-timeout=600000
spring.datasource.primary.hikari.max-lifetime=1800000
spring.datasource.primary.hikari.connection-test-query=SELECT 1
spring.datasource.primary.hikari.pool-name=PrimaryHikariPool

spring.jpa.hibernate.ddl-auto=none

#---------------- 从数据库 secondary --------------#
spring.datasource.secondary.jdbc-url=jdbc:mariadb://localhost:3306/novel?allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC&connectTimeout=30000&socketTimeout=60000
spring.datasource.secondary.username=
spring.datasource.secondary.password=
spring.datasource.secondary.driver-class-name=org.mariadb.jdbc.Driver

# HikariCP 连接池配置
spring.datasource.secondary.hikari.maximum-pool-size=8
spring.datasource.secondary.hikari.minimum-idle=3
spring.datasource.secondary.hikari.connection-timeout=30000
spring.datasource.secondary.hikari.idle-timeout=600000
spring.datasource.secondary.hikari.max-lifetime=1800000
spring.datasource.secondary.hikari.connection-test-query=SELECT 1
spring.datasource.secondary.hikari.pool-name=SecondaryHikariPool

spring.secondary.jpa.hibernate.ddl-auto=none